# 📊 แผนระบบ Feedback & Review - Meelike

> สรุปแผนการเก็บข้อมูลลูกค้าและระบบรีวิวสำหรับ Meelike Dashboard
> 
> **อ้างอิง:** UI/UX จาก Shopee Thailand (ปรับให้เหมาะกับ SMM Panel)

---

## 📋 สารบัญ

1. [ภาพรวม](#-ภาพรวม)
2. [Survey หลังสมัครสมาชิก](#-survey-หลังสมัครสมาชิก)
3. [ระบบรีวิวหลังสั่งซื้อ (Shopee Style)](#-ระบบรีวิวหลังสั่งซื้อ-shopee-style)
4. [การแสดงรีวิวในหน้าบริการ](#-การแสดงรีวิวในหน้าบริการ-service-page)
5. [โครงสร้างรางวัล](#-โครงสร้างรางวัล)
6. [เงื่อนไขการรับรางวัล](#-เงื่อนไขการรับรางวัล)
7. [การป้องกัน Spam/Abuse](#-การป้องกัน-spamabuse)
8. [Database Schema](#-database-schema)
9. [UI Components](#-ui-components)
10. [Timeline การพัฒนา](#-timeline-การพัฒนา)

---

## 🎯 ภาพรวม

### วัตถุประสงค์
- เก็บข้อมูลว่าลูกค้า **รู้จัก Meelike ได้อย่างไร** (Marketing Attribution)
- วัด **ความพึงพอใจ** ของลูกค้าต่อบริการแต่ละ order
- รวบรวม **feedback** เพื่อปรับปรุงบริการ
- สร้าง **Social Proof** จากรีวิวที่ดี

### แนวทางหลัก

| ประเภท | จังหวะ | บังคับ? | รางวัล |
|--------|--------|---------|--------|
| Survey หลังสมัคร | ครั้งเดียว (หลัง register) | ❌ ไม่ | 10 เครดิต |
| Review หลังสั่งซื้อ | ทุก order ที่สำเร็จ | ❌ ไม่ | 0.25 เครดิต (สูงสุด) |

### เปรียบเทียบกับ Shopee

| Feature | Shopee | Meelike | เหตุผล |
|---------|--------|---------|--------|
| รางวัล | 0.5 Coins | 0.25 เครดิต | ปรับตามต้นทุน |
| อัปโหลดรูป/วิดีโอ | ✅ มี (+0.5 Coins) | ❌ ไม่มี | บริการ digital ไม่มีรูปให้ถ่าย |
| ตัวอักษรขั้นต่ำ | 100 ตัวอักษร | 20 ตัวอักษร | บริการง่ายกว่า |
| หมวดคะแนน | คุณภาพ + บริการผู้ขาย | คุณภาพ + ความเร็ว | เหมาะกับ SMM |
| ซ่อนชื่อผู้ใช้ | ✅ มี | ✅ มี | Privacy |
| Review window | 30 วัน | 14 วัน | Order เยอะกว่า |

---

## 📝 Survey หลังสมัครสมาชิก

### วัตถุประสงค์
- รู้ว่าลูกค้า **มาจากช่องทางไหน** (Facebook, TikTok, Google, เพื่อนแนะนำ)
- รู้ว่า **เคยใช้คู่แข่งเจ้าไหน** มาก่อน
- รู้ว่า **อะไรทำให้ตัดสินใจ** ใช้ Meelike

### จังหวะการแสดง
- แสดง **Popup** หลังจาก register สำเร็จ
- แสดง **ครั้งเดียว** เท่านั้น
- ถ้าปิดไป → ไม่โชว์ซ้ำ (หรือโชว์อีกครั้งหลัง 30 วัน)

### คำถาม

**หัวข้อ:** 🎉 ยินดีต้อนรับสู่ Meelike!

**คำอธิบาย:** ช่วยตอบคำถาม 4 ข้อ รับเครดิตฟรี 10 บาท

| ข้อ | คำถาม | ตัวเลือก | บังคับ? |
|-----|-------|----------|---------|
| 1 | รู้จัก Meelike ได้อย่างไร? | Facebook, TikTok, Google, YouTube, Twitter/X, เพื่อนแนะนำ, เว็บรีวิว/บล็อก, อื่นๆ | ✅ บังคับ |
| 2 | เคยใช้บริการเจ้าไหนมาก่อน? | ไม่เคยใช้ที่ไหนมาก่อน, เคยใช้เจ้าอื่น (ระบุ) | ✅ บังคับ |
| 3 | ใช้งานผ่านอุปกรณ์อะไร? | 📱 มือถือ, 💻 คอมพิวเตอร์/โน้ตบุ๊ก, 📲 แท็บเล็ต, ใช้หลายอุปกรณ์ | ✅ บังคับ |
| 4 | มีอะไรอยากให้เราปรับปรุงไหม? | Text field | ❌ ไม่บังคับ |

**ปุ่ม:** [ส่งและรับ 10 เครดิต] [ข้ามไปก่อน]

### Wireframe

```
┌─────────────────────────────────────────────────────────┐
│                         ✕                               │
│                                                         │
│                  🎉 ยินดีต้อนรับ!                       │
│                                                         │
│     ช่วยตอบคำถามสั้นๆ รับเครดิตฟรี 10 บาท             │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 1. รู้จัก Meelike ได้อย่างไร? *                 │   │
│  │    [▼ เลือกช่องทาง                         ]   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 2. เคยใช้บริการเจ้าไหนมาก่อน? *                │   │
│  │    [▼ เลือก                                ]   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 3. ใช้งานผ่านอุปกรณ์อะไรเป็นหลัก? *                    │   │
│  │    ○ 📱 มือถือ                                 │   │
│  │    ○ 💻 คอมพิวเตอร์/โน้ตบุ๊ก                   │   │
│  │    ○ 📲 แท็บเล็ต                               │   │
│  │            
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 4. มีอะไรอยากให้ปรับปรุง? (ไม่บังคับ)          │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│       [ส่งและรับ 10 เครดิต]    [ข้ามไปก่อน]           │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## ⭐ ระบบรีวิวหลังสั่งซื้อ (Shopee Style)

### วัตถุประสงค์
- วัด **ความพึงพอใจ** ของแต่ละ order
- รู้ว่า **service ไหนมีปัญหา** (drop, ช้า, ไม่ครบ)
- รวบรวม **testimonials** สำหรับโปรโมท
- **Gamification** กระตุ้นให้ลูกค้ากลับมาใช้

### จังหวะการแสดง
- แสดงปุ่ม "⭐ ให้คะแนน" ใน **Order History** เมื่อ order status = `Completed`
- ปุ่มจะแสดง **14 วัน** หลัง order สำเร็จ (หลังจากนั้นซ่อน)
- **1 order = 1 review** (ไม่สามารถแก้ไขหลังส่ง)

### Flow

1. Order Complete
2. แสดงปุ่ม "⭐ ให้คะแนน รับ 0.25 เครดิต" ใน Order History
3. User คลิก → เปิด Review Modal
4. ต้องทำครบ 2 เงื่อนไข: ให้ดาวครบ 3 หมวด + เขียนรีวิว 20 ตัวอักษร
5. กด "ยืนยัน"
6. แสดง Success Animation + เครดิตที่ได้รับ (0.25)
7. อัพเดทยอดเครดิตใน Header

### หมวดการให้คะแนน (3 หมวด)

| หมวด | คำถาม | คำอธิบาย | บังคับ? | Label |
|------|-------|----------|---------|-------|
| **คุณภาพ** | "คุณภาพบริการเป็นอย่างไร?" | ของจริง, ไม่ drop, ครบจำนวน | ✅ บังคับ | แย่มาก ← → ดีมาก |
| **ความเร็ว** | "ความเร็วในการส่งเป็นอย่างไร?" | ส่งเร็วตามที่คาดหวัง | ✅ บังคับ | ช้ามาก ← → เร็วมาก |
| **ความคุ้มค่า** | "ราคาคุ้มค่าหรือไม่?" | เทียบกับคุณภาพที่ได้รับ | ✅ บังคับ | ไม่คุ้ม ← → คุ้มมาก |
| **เขียนรีวิว** | - | ความคิดเห็นเพิ่มเติม (20 ตัวอักษร+) | ✅ บังคับ | ต้องเขียนถึงจะได้รางวัล |

---

### Wireframe - ตาราง Order History (เพิ่มคอลัมน์รีวิว)

**เพิ่มคอลัมน์ "รีวิว" ต่อจากคอลัมน์ "วันที่สำเร็จ"**

```
┌────────────────┬─────────────────────────┬─────────────────────┬────────┬──────────┬───────────┬────────────────┬─────────────────────────────┐
│ รหัสรายการ     │ บริการ                  │ ลิงก์               │ จำนวน  │ ความคืบหน้า│ สถานะ     │ วันที่สำเร็จ   │ รีวิว                       │
├────────────────┼─────────────────────────┼─────────────────────┼────────┼──────────┼───────────┼────────────────┼─────────────────────────────┤
│ ORD-2025-000021│ Facebook ถูกใจโพสอีโมจิ │ facebook.com/...    │ 100    │ ████░░░░ │ Canceled  │ -              │ -                           │
│ ORD-2025-000020│ Instagram ผู้ติดตาม     │ instagram.com/...   │ 500    │ ████████ │ Completed │ 09/08/2025     │ [⭐ รีวิว รับ 0.25] (สีส้ม) │
│ ORD-2025-000019│ TikTok เพิ่มวิววิดีโอ   │ tiktok.com/...      │ 10,000 │ █████░░░ │ In Progress│ -             │ [⭐ รีวิว รับ 0.25] (สีเทา) │
│ ORD-2025-000018│ Instagram ผู้ติดตาม     │ instagram.com/...   │ 1,000  │ ████████ │ Completed │ 08/08/2025     │ ⭐⭐⭐⭐⭐ รีวิวแล้ว          │
└────────────────┴─────────────────────────┴─────────────────────┴────────┴──────────┴───────────┴────────────────┴─────────────────────────────┘
```

### สถานะปุ่มรีวิวในคอลัมน์

| สถานะ Order | ปุ่มรีวิว | สี | คลิกได้? |
|-------------|-----------|-----|----------|
| **Completed** | [⭐ รีวิว รับ 0.25] | 🟠 สีส้ม | ✅ ได้ |
| **Partially Completed** | [⭐ รีวิว รับ 0.25] | 🟠 สีส้ม | ✅ ได้ |
| In Progress | [⭐ รีวิว รับ 0.25] | ⬜ สีเทา | ❌ ไม่ได้ (disabled) |
| Processing | [⭐ รีวิว รับ 0.25] | ⬜ สีเทา | ❌ ไม่ได้ (disabled) |
| Pending / Awaiting | [⭐ รีวิว รับ 0.25] | ⬜ สีเทา | ❌ ไม่ได้ (disabled) |
| On Refill | [⭐ รีวิว รับ 0.25] | ⬜ สีเทา | ❌ ไม่ได้ (disabled) |
| Canceled / Fail / Error | - | - | ไม่แสดงปุ่ม |
| **รีวิวแล้ว** | ⭐⭐⭐⭐⭐ รีวิวแล้ว | 🟡 สีทอง | - (แสดงผลลัพธ์) |
| **หมดเวลารีวิว** (>14 วัน) | หมดเวลารีวิว | ⬜ สีเทา | ❌ ไม่ได้ |

### Tooltip เมื่อ Hover ปุ่มสีเทา

เมื่อ user hover ที่ปุ่มสีเทา (disabled) จะแสดง tooltip:

| สถานะ | Tooltip |
|-------|---------|
| In Progress / Processing | "รอให้ order เสร็จก่อนถึงจะรีวิวได้" |
| Pending / Awaiting | "รอให้ order เริ่มทำก่อนถึงจะรีวิวได้" |
| On Refill | "รอการ refill เสร็จก่อนถึงจะรีวิวได้" |
| หมดเวลารีวิว | "หมดเวลารีวิวแล้ว (เกิน 14 วัน)" |

---

### Wireframe - Review Modal (Shopee Style)

```
┌─────────────────────────────────────────────────────────┐
│ ←  ให้คะแนนบริการ                                      │
├─────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 💰 รีวิวครบเงื่อนไขรับ 0.25 เครดิต               > │ │
│ └─────────────────────────────────────────────────────┘ │
│   (Banner สีเหลือง/ส้ม)                                │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 💙 Instagram ผู้ติดตาม (คนไทย)                  │   │
│  │    500 followers | Order #ORD-2025-000020       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  คุณภาพบริการเป็นอย่างไร? *                            │
│  (ของจริง, ไม่ drop, ครบจำนวน)                         │
│         ⭐  ⭐  ⭐  ⭐  ⭐                               │
│         แย่มาก            ดีมาก                         │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ความเร็วในการส่งเป็นอย่างไร? *                        │
│         ⭐  ⭐  ⭐  ⭐  ⭐                               │
│         ช้ามาก            เร็วมาก                       │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ราคาคุ้มค่าหรือไม่? *                                 │
│         ⭐  ⭐  ⭐  ⭐  ⭐                               │
│         ไม่คุ้ม           คุ้มมาก                       │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  เขียนรีวิวอย่างน้อย 20 ตัวอักษร *                     │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ เขียนรีวิวบริการเพิ่มเติม เช่น คุณภาพบริการ,   │   │
│  │ ความเร็วในการส่ง, ราคาคุ้มค่าไหม, มี drop ไหม  │   │
│  │                                                 │   │
│  │                                    0 ตัวอักษร   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ☐ ปิดชื่อผู้ใช้ในรีวิว                                │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                    ยืนยัน                       │   │
│  └─────────────────────────────────────────────────┘   │
│   (ปุ่มสีส้ม - disabled ถ้ายังไม่ครบเงื่อนไข)         │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

### Wireframe - เงื่อนไขการรับรางวัล (Popup)

เมื่อกดที่ Banner "รีวิวครบเงื่อนไขรับ 0.25 เครดิต" จะแสดง:

```
┌─────────────────────────────────────────────────────────┐
│              เงื่อนไขการรับรางวัลจากรีวิว               │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  รางวัล                                        💰 0.25  │
│  ทำครบทุกเงื่อนไขเพื่อรับรางวัล                        │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ต้องทำครบทั้ง 2 ข้อ:                                  │
│                                                         │
│  ⭐ ให้คะแนนบริการครบ 3 หมวด                           │
│     - คุณภาพบริการ (1-5 ดาว)                           │
│     - ความเร็วในการส่ง (1-5 ดาว)                       │
│     - ความคุ้มค่า (1-5 ดาว)                            │
│                                                         │
│  📝 เขียนรีวิวอย่างน้อย 20 ตัวอักษร                    │
│     อธิบายประสบการณ์การใช้บริการ                       │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  • ต้องทำครบทั้ง 2 เงื่อนไขถึงจะได้รับเครดิต          │
│  • ผู้ใช้จะได้รับเครดิตหลังจากส่งรีวิวเรียบร้อยแล้ว    │
│  • 1 order สามารถรีวิวได้ 1 ครั้ง ไม่สามารถแก้ไขได้   │
│  • หาก Meelike ตรวจพบการรีวิว spam จะหักเครดิตคืน     │
│  • สามารถรีวิวได้ภายใน 14 วันหลัง order สำเร็จ        │
│  • รีวิวที่ซ้ำกัน/copy จะไม่ได้รับรางวัล               │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                    ตกลง                         │   │
│  └─────────────────────────────────────────────────┘   │
│   (ปุ่มสีส้ม)                                          │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

### Wireframe - Success Screen

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                       🎉                                │
│                                                         │
│                ขอบคุณสำหรับรีวิว!                       │
│                                                         │
│              ได้รับ +0.25 เครดิต                        │
│                                                         │
│           ยอดเครดิตปัจจุบัน: ฿125.50                    │
│                                                         │
│                 [     ปิด     ]                        │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

### Wireframe - คอลัมน์รีวิว เมื่อดูรายละเอียด Order ที่รีวิวแล้ว

เมื่อ click ที่ "⭐⭐⭐⭐⭐ รีวิวแล้ว" จะแสดง popup รีวิว:

```
┌─────────────────────────────────────────────────────────┐
│              รีวิวของคุณ                    ✕           │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 💙 Instagram ผู้ติดตาม (คนไทย)                  │   │
│  │    500 followers | Order #ORD-2025-000020       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  คุณภาพบริการ          ⭐⭐⭐⭐⭐                       │
│  ความเร็วในการส่ง      ⭐⭐⭐⭐☆                       │
│  ความคุ้มค่า           ⭐⭐⭐⭐⭐                       │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  "ส่งไว ของดี ไม่ drop แนะนำครับ"                      │
│                                                         │
│  รีวิวเมื่อ: 09/08/2025 15:30                          │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 🌟 การแสดงรีวิวในหน้าบริการ (Service Page)

### วัตถุประสงค์
- สร้าง **Social Proof** ให้ลูกค้าใหม่เชื่อมั่น
- แสดงว่า service นี้ **มีคนใช้จริง** และ **พอใจ**
- กระตุ้นให้ลูกค้า **ตัดสินใจซื้อ** ง่ายขึ้น

### เงื่อนไขการแสดงรีวิว

| เงื่อนไข | ค่า | เหตุผล |
|----------|-----|--------|
| จำนวนรีวิวขั้นต่ำ | ≥10 รีวิว | รอให้มีข้อมูลเพียงพอ |
| คะแนนเฉลี่ยขั้นต่ำ | ≥4.0 ดาว | ไม่แสดงถ้าคะแนนต่ำ |
| แสดงเฉพาะรีวิวที่ | ≥4 ดาว | ซ่อนรีวิวแย่ๆ |
| จำนวนรีวิวที่แสดง | 3-5 รีวิวล่าสุด | ไม่แสดงเยอะเกินไป |
| ไม่แสดงถ้าถูก flag | is_flagged = true | ซ่อนรีวิว spam |

### การแสดงผลตามสถานะ

| สถานการณ์ | การแสดงผล |
|-----------|-----------|
| รีวิว < 10 | ไม่แสดงส่วนรีวิว |
| เฉลี่ย < 4.0 | ไม่แสดงส่วนรีวิว |
| เฉลี่ย ≥ 4.0 | แสดงคะแนน + รีวิวดีๆ |
| เฉลี่ย < 3.0 | พิจารณาปรับปรุง/ปิด service |

### Wireframe - รีวิวในหน้าบริการ

```
┌─────────────────────────────────────────────────────────┐
│ 💙 Instagram ผู้ติดตาม (คนไทย)                         │
│                                                         │
│ ราคา: ฿0.50/followers | ขั้นต่ำ: 100 | สูงสุด: 10,000  │
│ ⭐ 4.8 (120 รีวิว)   📈 ขายดี                          │
│                                                         │
│ ─────────────────────────────────────────────────────── │
│                                                         │
│ 📝 รีวิวจากลูกค้า                                      │
│                                                         │
│ ┌─────────────────────────────────────────────────┐    │
│ │ ⭐⭐⭐⭐⭐  Saruth B.                             │    │
│ │ "ส่งเร็วมาก ได้ครบ ไม่ drop แนะนำครับ"         │    │
│ │ 📅 28 ธ.ค. 2567                                 │    │
│ └─────────────────────────────────────────────────┘    │
│                                                         │
│ ┌─────────────────────────────────────────────────┐    │
│ │ ⭐⭐⭐⭐⭐  User***123                            │    │
│ │ "ของแท้ ไม่หาย คุ้มราคา"                        │    │
│ │ 📅 27 ธ.ค. 2567                                 │    │
│ └─────────────────────────────────────────────────┘    │
│                                                         │
│ ┌─────────────────────────────────────────────────┐    │
│ │ ⭐⭐⭐⭐☆  Anonymous                             │    │
│ │ "ส่งช้านิดนึง แต่ได้ครบ"                        │    │
│ │ 📅 26 ธ.ค. 2567                                 │    │
│ └─────────────────────────────────────────────────┘    │
│                                                         │
│              [ดูรีวิวทั้งหมด (120)]                    │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### Wireframe - หน้าดูรีวิวทั้งหมด

เมื่อกด "ดูรีวิวทั้งหมด" จะแสดง modal/หน้าใหม่:

```
┌─────────────────────────────────────────────────────────┐
│ ←  รีวิวทั้งหมด - Instagram ผู้ติดตาม (คนไทย)          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ⭐ 4.8 คะแนนเฉลี่ย (120 รีวิว)                        │
│                                                         │
│  คุณภาพ     ████████████████░░ 4.9                     │
│  ความเร็ว   ███████████████░░░ 4.7                     │
│  ความคุ้มค่า ████████████████░░ 4.8                     │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ตัวกรอง: [ทั้งหมด ▼]  [5⭐] [4⭐] [3⭐] [2⭐] [1⭐]   │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ⭐⭐⭐⭐⭐  Saruth B.                    28 ธ.ค. 2567  │
│  คุณภาพ: 5⭐ | ความเร็ว: 5⭐ | คุ้มค่า: 5⭐            │
│  "ส่งเร็วมาก ได้ครบ ไม่ drop แนะนำครับ"                │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ⭐⭐⭐⭐⭐  User***123                   27 ธ.ค. 2567  │
│  คุณภาพ: 5⭐ | ความเร็ว: 5⭐ | คุ้มค่า: 5⭐            │
│  "ของแท้ ไม่หาย คุ้มราคา"                              │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  (... รีวิวอื่นๆ ...)                                  │
│                                                         │
│              [โหลดเพิ่มเติม]                           │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### การแสดงชื่อผู้รีวิว

| กรณี | การแสดง | ตัวอย่าง |
|------|---------|----------|
| ปกติ | ชื่อ + นามสกุลย่อ | Saruth B. |
| ชื่อยาว | ตัดเหลือ 10 ตัว | Longusern... |
| เลือก Anonymous | แสดง "Anonymous" | Anonymous |
| ปิดชื่อบางส่วน | ซ่อนตรงกลาง | User***123 |

### ป้องกันรีวิวปลอม/คู่แข่งป่วน

| วิธี | รายละเอียด |
|------|------------|
| **ต้องซื้อจริง** | รีวิวได้เฉพาะ order ที่ Completed เท่านั้น |
| **1 order = 1 รีวิว** | ไม่ให้รีวิวซ้ำ |
| **ซ่อนรีวิว < 4 ดาว** | ไม่แสดงในหน้าบริการ (แต่เก็บไว้วิเคราะห์) |
| **Flag system** | Admin สามารถ flag รีวิวแปลกๆ |
| **ไม่แสดงรีวิว flagged** | รีวิวที่ถูก flag จะไม่แสดง |
| **Rate limiting** | ป้องกันการรีวิว spam |

---

## 🎁 โครงสร้างรางวัล

### Survey หลังสมัคร

| การกระทำ | เครดิต | เงื่อนไข |
|----------|--------|----------|
| ตอบครบทุกข้อ | **10.00** | ข้อ 1-3 บังคับ, ข้อ 4 ไม่บังคับ |

### Review หลังสั่งซื้อ

| การกระทำ | เครดิต | เงื่อนไข |
|----------|--------|----------|
| รีวิวครบเงื่อนไข | **0.25** | ต้องทำครบทั้ง 2 ข้อ (ดู section ถัดไป) |
| **รวมสูงสุด** | **0.25** | ต่อ 1 order |

### ประมาณการต้นทุน

สมมติมี **1,000 orders/วัน** และ **50% รีวิว** (ครบเงื่อนไข):

| รายการ | คำนวณ | ต่อวัน | ต่อเดือน |
|--------|-------|--------|----------|
| Review ครบเงื่อนไข | 500 × 0.25 | 125.00 บาท | 3,750 บาท |
| **รวม** | | **125.00 บาท** | **3,750 บาท** |

**ROI:** ได้ data 500+ reviews/วัน ในราคา ~125 บาท = **0.25 บาท/review**

---

## 📋 เงื่อนไขการรับรางวัล

### รางวัลรีวิว (0.25 เครดิต)

**ต้องทำครบทั้ง 2 เงื่อนไข** ถึงจะได้รับเครดิต:

| ลำดับ | เงื่อนไข | รายละเอียด |
|-------|----------|------------|
| 1 | ⭐ ให้คะแนนบริการครบ 3 หมวด | คุณภาพ + ความเร็ว + ความคุ้มค่า (1-5 ดาว) |
| 2 | 📝 เขียนรีวิว 20 ตัวอักษรขึ้นไป | อธิบายประสบการณ์การใช้บริการ |

**หมายเหตุ:** 
- ถ้าทำไม่ครบ (เช่น ให้ดาวแต่ไม่เขียนรีวิว) จะ **ไม่ได้รับเครดิต**
- **Order ต้องมีมูลค่า 10 บาทขึ้นไป** ถึงจะสามารถรีวิวได้

### กฎทั่วไป (อ้างอิง Shopee)

| กฎ | รายละเอียด |
|----|------------|
| **Minimum order** | Order ต้องมีมูลค่า 10 บาทขึ้นไป |
| **1 order = 1 review** | ไม่สามารถแก้ไขหรือส่งซ้ำได้ |
| **Review window** | รีวิวได้ภายใน 7 วันหลัง order สำเร็จ |
| **Anti-spam** | หาก Meelike ตรวจพบการรีวิว spam จะหักเครดิตคืน |
| **No duplicate** | รีวิวที่ซ้ำกัน/copy จะไม่ได้รับรางวัล |
| **ได้รับทันที** | เครดิตจะเข้าหลังจากส่งรีวิวเรียบร้อยแล้ว |

---

## 🛡️ การป้องกัน Spam/Abuse

### Rules

| กฎ | รายละเอียด |
|----|------------|
| **ต้องทำครบเงื่อนไข** | ไม่ให้ submit ถ้าไม่เลือกดาวครบ + ไม่เขียนรีวิว 20 ตัวอักษร |
| **1 order = 1 review** | ไม่สามารถแก้ไขหรือส่งซ้ำได้ |
| **Rate limiting** | ถ้ารีวิว >10 orders ใน 1 นาที = flag account |
| **Minimum characters** | ต้อง 20 ตัวอักษร+ ถึงจะ submit ได้ |
| **No duplicate text** | ตรวจว่า text เหมือน review ก่อนหน้าไหม (>80% similarity = ไม่ได้รางวัล) |
| **Review window** | รีวิวได้แค่ 7 วันหลัง order สำเร็จ |

### Fraud Detection

| ตรวจสอบ | เงื่อนไข | การกระทำ |
|---------|----------|----------|
| จำนวน review ต่อนาที | >10 reviews/นาที | Flag account |
| Text similarity | >80% เหมือนรีวิวก่อนหน้า | ไม่ให้รางวัล |
| Pattern ผิดปกติ | ทุก review เป็น 5 ดาว + text เหมือนกัน | Flag for review |

### การหักเครดิตคืน

หาก Meelike ตรวจพบการรีวิว spam:
1. หักเครดิตที่ได้รับจากรีวิวนั้นคืน
2. Flag account สำหรับการตรวจสอบเพิ่มเติม
3. ถ้า spam ซ้ำ 3 ครั้ง → ระงับการรับรางวัลจากรีวิว

---

## 🗄️ Database Schema

### Table: `user_surveys`

| Column | Type | Description |
|--------|------|-------------|
| id | INT (PK) | Auto increment |
| user_id | INT (FK) | เชื่อมกับ users table |
| source_channel | ENUM | facebook, tiktok, google, youtube, twitter, friend, blog, other |
| source_other | VARCHAR(255) | ระบุเพิ่มเติมถ้าเลือก other |
| used_competitor | BOOLEAN | เคยใช้คู่แข่งหรือไม่ |
| competitor_name | VARCHAR(255) | ชื่อคู่แข่ง (ถ้ามี) |
| device_type | ENUM | mobile, desktop, tablet, multiple |
| suggestions | TEXT | ข้อเสนอแนะ |
| credit_given | DECIMAL(10,2) | เครดิตที่ให้ |
| created_at | TIMESTAMP | วันที่สร้าง |

**Constraints:** 1 user = 1 survey (UNIQUE KEY on user_id)

### Table: `order_reviews`

| Column | Type | Description |
|--------|------|-------------|
| id | INT (PK) | Auto increment |
| order_id | INT (FK) | เชื่อมกับ orders table |
| user_id | INT (FK) | เชื่อมกับ users table |
| service_id | INT (FK) | เชื่อมกับ services table |
| quality_rating | TINYINT | คะแนนคุณภาพ (1-5) |
| speed_rating | TINYINT | คะแนนความเร็ว (1-5) |
| value_rating | TINYINT | คะแนนความคุ้มค่า (1-5) |
| review_text | TEXT | ข้อความรีวิว (ต้อง 20 ตัวอักษรขึ้นไป) |
| review_length | INT | จำนวนตัวอักษร |
| is_anonymous | BOOLEAN | ซ่อนชื่อผู้ใช้หรือไม่ |
| credit_given | DECIMAL(10,2) | เครดิตที่ให้ (0.25 หรือ 0) |
| is_flagged | BOOLEAN | ถูก flag เป็น spam หรือไม่ |
| flag_reason | VARCHAR(255) | เหตุผลที่ถูก flag |
| created_at | TIMESTAMP | วันที่สร้าง |

**Constraints:** 1 order = 1 review (UNIQUE KEY on order_id)

**Indexes:** user_id, service_id, created_at, quality_rating

### Credit Transaction Types (เพิ่มใหม่)

| Code | Name |
|------|------|
| SURVEY_REWARD | รางวัลตอบแบบสอบถาม |
| REVIEW_REWARD | รางวัลรีวิว |
| REVIEW_CLAWBACK | หักคืนรางวัลรีวิว (spam) |

---

## 🎨 UI Components

### Components ที่ต้องสร้าง

| Component | หน้าที่ |
|-----------|---------|
| `WelcomeSurveyModal` | Popup หลังสมัคร |
| `ReviewButton` | ปุ่มให้คะแนนใน order list |
| `ReviewModal` | Modal รีวิว (Shopee style) |
| `ReviewConditionsModal` | แสดงเงื่อนไขรับรางวัล |
| `StarRating` | Component เลือกดาว |
| `ReviewSuccessModal` | แสดงผลหลังรีวิวสำเร็จ |
| `ReviewDisplay` | แสดงรีวิวที่ส่งแล้ว |
| `ServiceReviews` | แสดงรีวิวในหน้าบริการ |
| `AllReviewsModal` | หน้าดูรีวิวทั้งหมด |
| `ReviewSummary` | แสดงคะแนนเฉลี่ย + bar chart |

### Design System (Shopee-inspired)

| Element | Color | Hex Code |
|---------|-------|----------|
| Primary Orange | Shopee orange | #EE4D2D |
| Primary Orange Light | | #FF6633 |
| Banner Background | สีเหลืองอ่อน | #FFF0E1 |
| Banner Border | | #FFDBC9 |
| Star Empty | สีเทา | #E0E0E0 |
| Star Filled | สีทอง | #FFB800 |
| Star Hover | | #FFC933 |
| Success Background | สีเขียวอ่อน | #E8F5E9 |
| Success Text | สีเขียว | #2E7D32 |
| Credit Icon | สีทอง | #FFB800 |
| Disabled Button | สีเทา | #CCCCCC |

### Star Rating States

| State | Display | Color |
|-------|---------|-------|
| ยังไม่เลือก | ☆ ☆ ☆ ☆ ☆ | สีเทา #E0E0E0 |
| เลือก 3 ดาว | ⭐ ⭐ ⭐ ☆ ☆ | สีส้ม #FFB800 |
| เลือก 5 ดาว | ⭐ ⭐ ⭐ ⭐ ⭐ | สีส้ม #FFB800 |

### Button States

| State | Color | เงื่อนไข |
|-------|-------|----------|
| Enabled | สีส้ม #EE4D2D | ทำครบเงื่อนไข (ดาวครบ + 20 ตัวอักษร) |
| Disabled | สีเทา #CCCCCC | ยังไม่ครบเงื่อนไข |

---

## 📅 Timeline การพัฒนา

### Phase 1: Survey หลังสมัคร (2-3 วัน)

| วัน | งาน |
|-----|-----|
| 1 | สร้าง DB schema + API endpoints |
| 2 | สร้าง WelcomeSurveyModal component |
| 3 | ทดสอบ + ปรับแต่ง UI |

### Phase 2: ระบบรีวิว (4-5 วัน)

| วัน | งาน |
|-----|-----|
| 1 | สร้าง DB schema + API endpoints |
| 2 | สร้าง StarRating + ReviewModal |
| 3 | สร้าง ReviewButton + ReviewConditionsModal |
| 4 | สร้าง ReviewSuccessModal + credit system |
| 5 | ทดสอบ + spam prevention |

### Phase 3: Analytics Dashboard (2-3 วัน)

| วัน | งาน |
|-----|-----|
| 1 | สร้างหน้า Admin สำหรับดูสถิติ survey |
| 2 | สร้างหน้า Admin สำหรับดูสถิติ review |
| 3 | สร้าง charts + export data |

---

## 📊 Metrics ที่ต้องติดตาม

### Survey Metrics

| Metric | เป้าหมาย |
|--------|----------|
| Survey completion rate | >30% |
| Top acquisition channel | - |
| Competitor usage rate | - |
| Top device type | - |

### Review Metrics

| Metric | เป้าหมาย |
|--------|----------|
| Review rate (reviews/completed orders) | >40% |
| Average quality rating | >4.0 |
| Average speed rating | >4.0 |
| Average value rating | >4.0 |
| Spam rate | <5% |
| Cost per review | 0.25 บาท |

---

## ✅ Checklist

### Survey หลังสมัคร
- [ ] DB table `user_surveys`
- [ ] API: POST `/api/survey`
- [ ] API: GET `/api/survey/check` (ตรวจว่าตอบแล้วหรือยัง)
- [ ] Component: `WelcomeSurveyModal`
- [ ] Credit reward logic
- [ ] Show modal หลัง register

### ระบบรีวิว
- [ ] DB table `order_reviews`
- [ ] API: POST `/api/reviews`
- [ ] API: GET `/api/orders/:id/review`
- [ ] Component: `StarRating`
- [ ] Component: `ReviewModal`
- [ ] Component: `ReviewConditionsModal`
- [ ] Component: `ReviewButton`
- [ ] Component: `ReviewSuccessModal`
- [ ] Component: `ReviewDisplay`
- [ ] Credit reward logic (ให้เมื่อครบเงื่อนไข)
- [ ] Validation: ดาวครบ 3 หมวด + 20 ตัวอักษร
- [ ] Spam detection
- [ ] 14-day review window
- [ ] Anonymous review option

### แสดงรีวิวในหน้าบริการ
- [ ] Component: `ServiceReviews`
- [ ] Component: `AllReviewsModal`
- [ ] Component: `ReviewSummary`
- [ ] API: GET `/api/services/:id/reviews`
- [ ] Filter: แสดงเฉพาะรีวิว ≥4 ดาว
- [ ] เงื่อนไข: แสดงเมื่อมี ≥10 รีวิว และเฉลี่ย ≥4.0
- [ ] ซ่อนรีวิวที่ถูก flag

### Admin Dashboard
- [ ] Survey statistics page
- [ ] Review statistics page
- [ ] Export to CSV
- [ ] Flag management (spam reviews)
- [ ] Review moderation

---

## 📝 หมายเหตุ

- เอกสารนี้สร้างเมื่อ: 28 ธันวาคม 2567
- อัพเดทล่าสุด: 28 ธันวาคม 2567
- สถานะ: Draft / Planning
- อ้างอิง: Shopee Thailand Review System

---

> 💡 **Next Step:** เริ่มพัฒนา Phase 1 - Survey หลังสมัคร