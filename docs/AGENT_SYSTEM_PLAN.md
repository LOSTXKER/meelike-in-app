# 📋 แผนพัฒนาระบบ Agent (โมเดล Shopee Seller)

## 🎯 Overview

ระบบ Agent ออกแบบตามโมเดล **Shopee Seller Center** ที่คนไทยคุ้นเคย:

| Shopee | MeeLike Agent |
|--------|---------------|
| Seller (ผู้ขาย) | Agent (ตัวแทน) |
| Shopee Shop | Agent Store |
| Seller Center | Agent Center |
| Buyer (ผู้ซื้อ) | ลูกค้าของ Agent |
| Order Management | Bill Management |

---

## 🏗️ Platform Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         MEELIKE PLATFORM                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  🏠 MAIN PLATFORM (meelike.com)                                             │
│  ─────────────────────────────────────────────────────────────────────────  │
│  /                    Landing Page                                          │
│  /order               สั่งซื้อ (สำหรับ user ทั่วไป)                         │
│  /history             ประวัติออเดอร์ (ของตัวเอง)                            │
│  /add-funds           เติมเงิน                                              │
│  /subscription        แพ็คเกจ Agent                                         │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  📦 AGENT CENTER (meelike.com/agent/...) ← เหมือน Seller Center            │
│  ─────────────────────────────────────────────────────────────────────────  │
│  /agent               Dashboard ภาพรวม                                      │
│  /agent/orders        📋 จัดการบิล/ออเดอร์ลูกค้า                            │
│  /agent/orders/new    ➕ สร้างบิลใหม่ (เปิดบิลให้ลูกค้า)                    │
│  /agent/clients       👥 จัดการลูกค้า                                       │
│  /agent/store         🏪 ตั้งค่าร้าน                                        │
│  /agent/analytics     📊 สถิติ/รายงาน                                       │
│  /agent/promotions    🎁 โปรโมชั่น/คูปอง                                    │
│  /agent/settings      ⚙️ ตั้งค่า                                            │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  🏪 AGENT STORE ([username].meelike.com) ← เหมือน Shopee Shop              │
│  ─────────────────────────────────────────────────────────────────────────  │
│  /                    หน้าร้าน (แสดงบริการ)                                 │
│  /[serviceId]         รายละเอียดบริการ                                      │
│  /checkout            สั่งซื้อ + ชำระเงิน                                   │
│  /orders              📋 ลูกค้าดูสถานะออเดอร์ทั้งหมด                        │
│  /orders/[billId]     รายละเอียดออเดอร์/บิล                                 │
│  /reviews             ⭐ รีวิวร้าน                                          │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 📱 User Flows

### Flow 1: ลูกค้าสั่งเองผ่าน Agent Store (เหมือน Shopee)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  ลูกค้า                          Agent                        MeeLike       │
│  ──────                          ─────                        ───────       │
│    │                               │                             │          │
│    │ 1. เข้า john.meelike.com      │                             │          │
│    │ 2. เลือกบริการ                │                             │          │
│    │ 3. ใส่ลิงก์ + จำนวน           │                             │          │
│    │ 4. สั่งซื้อ                   │                             │          │
│    │──────────────────────────────>│                             │          │
│    │                               │                             │          │
│    │                               │ 5. 🔔 แจ้งเตือน!            │          │
│    │                               │    LINE/Email/In-app        │          │
│    │                               │    "มีออเดอร์ใหม่ ฿150"     │          │
│    │                               │                             │          │
│    │ 6. ดูบิลที่ /orders/BILL-xxx  │                             │          │
│    │    เห็นข้อมูลการโอนเงิน       │                             │          │
│    │                               │                             │          │
│    │ 7. โอนเงินให้ Agent           │                             │          │
│    │    + แจ้งโอนทาง LINE          │                             │          │
│    │──────────────────────────────>│                             │          │
│    │                               │                             │          │
│    │                               │ 8. ตรวจสอบยอดเงิน           │          │
│    │                               │    กด "ยืนยันชำระแล้ว"      │          │
│    │                               │───────────────────────────>│          │
│    │                               │                             │          │
│    │                               │             9. หักเงิน Agent│          │
│    │                               │<───────────────────────────│          │
│    │                               │            10. เริ่มทำออเดอร์│          │
│    │                               │                             │          │
│    │ 11. ดูสถานะที่ /orders/xxx    │                             │          │
│    │     [████████░░░░] 80%        │                             │          │
│    │                               │                             │          │
│    │ 12. ✅ สำเร็จ!                 │                             │          │
│    │                               │                             │          │
│    │ 13. ลูกค้ารีวิวร้าน ⭐         │                             │          │
│    │──────────────────────────────>│                             │          │
│    │                               │                             │          │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Flow 2: Agent เปิดบิลให้ลูกค้า (Manual)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  ลูกค้า                          Agent                        MeeLike       │
│  ──────                          ─────                        ───────       │
│    │                               │                             │          │
│    │ 1. ติดต่อ Agent               │                             │          │
│    │   "อยากเพิ่มไลค์ 1,000"       │                             │          │
│    │──────────────────────────────>│                             │          │
│    │                               │                             │          │
│    │                               │ 2. เข้า Agent Center        │          │
│    │                               │    /agent/orders/new        │          │
│    │                               │    - เลือกบริการ            │          │
│    │                               │    - ใส่ลิงก์                │          │
│    │                               │    - เลือก/เพิ่มลูกค้า       │          │
│    │                               │    - ตั้งราคาขาย            │          │
│    │                               │    - ใส่คูปอง (ถ้ามี)       │          │
│    │                               │    - กด "สร้างบิล"          │          │
│    │                               │                             │          │
│    │ 3. ได้รับ link บิล            │                             │          │
│    │<──────────────────────────────│                             │          │
│    │   john.meelike.com/orders/xxx │                             │          │
│    │                               │                             │          │
│    │ 4. ดูบิล + โอนเงินให้ Agent   │                             │          │
│    │──────────────────────────────>│                             │          │
│    │                               │                             │          │
│    │                               │ 5. กด "ยืนยันชำระแล้ว"      │          │
│    │                               │    (เหมือน Flow 1)          │          │
│    │                               │                             │          │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 📋 Bill Status Flow (เหมือน Shopee Order Status)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│     ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐           │
│     │  🟡      │    │  🔵      │    │  🔄      │    │  ✅      │           │
│     │ รอชำระ   │───>│ รอดำเนินการ│───>│ กำลังทำ  │───>│  สำเร็จ  │           │
│     │ PENDING  │    │ CONFIRMED│    │PROCESSING│    │COMPLETED │           │
│     └──────────┘    └──────────┘    └──────────┘    └──────────┘           │
│          │                                               │                  │
│          │              ┌──────────┐                     │                  │
│          └─────────────>│  ❌      │<────────────────────┘                  │
│                         │  ยกเลิก  │                                        │
│                         │CANCELLED │                                        │
│                         └──────────┘                                        │
│                                                                              │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                              │
│  สถานะ          │ คำอธิบาย                    │ ใครทำ      │ Actions        │
│  ───────────────┼─────────────────────────────┼────────────┼────────────────│
│  🟡 รอชำระ      │ ลูกค้าสั่งแล้ว รอโอนเงิน   │ ลูกค้าสั่ง  │ ยืนยันชำระ/ยกเลิก│
│  🔵 รอดำเนินการ │ Agent ยืนยันแล้ว รอส่งงาน  │ Agent ยืนยัน│ -              │
│  🔄 กำลังทำ     │ MeeLike กำลังดำเนินการ     │ ระบบ       │ ดู progress    │
│  ✅ สำเร็จ      │ เสร็จสมบูรณ์               │ ระบบ       │ ขอรีวิว        │
│  ❌ ยกเลิก      │ ยกเลิกแล้ว                 │ Agent/ลูกค้า│ -              │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 💳 Subscription System (ราคาใหม่)

### 📋 แพ็คเกจ

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│     🆓 FREE            🌟 BOOST             💎 BOOST+                       │
│     ฿0/เดือน          ฿149/เดือน           ฿399/เดือน                      │
│                       (฿1,490/ปี -17%)      (฿3,990/ปี -17%)                │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                        📦 AGENT CENTER                                       │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  บิล/เดือน             50                 300               ∞               │
│  Bulk Create           ❌                  10/ครั้ง          ∞               │
│  Bill Templates        ❌                  5                 ∞               │
│  Import CSV            ❌                  ❌                 ✅              │
│  จำนวนลูกค้า           20 คน              100 คน            ∞               │
│  Customer Segments     ❌                  ✅                 ✅              │
│  ประวัติบิล            30 วัน             90 วัน            ∞               │
│  Client Tags           3                  10                ∞               │
│  Export Data           ❌                  CSV               CSV+Excel       │
│  Analytics             Basic              Advanced          Pro             │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                        🏪 AGENT STORE                                        │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  Agent Store           ✅ Starter         ✅ Pro            ✅ Business     │
│  Store URL             [id].meelike.com   [id].meelike.com  Custom URL      │
│  บริการในร้าน          5                  20                ∞               │
│  Custom Branding       ❌                  ❌                 ✅              │
│  ซ่อน MeeLike Branding ❌ (บังคับแสดง)    ❌ (บังคับแสดง)    ✅              │
│  Store Analytics       Basic              Pro               Pro             │
│  Customer Reviews      ✅                  ✅                 ✅              │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                        🎁 PROMOTIONS (ใหม่!)                                 │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  สร้างคูปอง            ❌                  3 คูปอง           ∞               │
│  Flash Sale            ❌                  ❌                 ✅              │
│  ส่วนลดลูกค้าประจำ      ❌                  ❌                 ✅              │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                        🔔 NOTIFICATIONS (ใหม่!)                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  In-app Notification   ✅                  ✅                 ✅              │
│  LINE Notification     ❌                  ✅                 ✅              │
│  Email Notification    ❌                  ❌                 ✅              │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                        💬 QUICK TOOLS (ใหม่!)                                │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  Quick Reply Templates ❌                  5                 ∞               │
│  Auto-Reply Messages   ❌                  ❌                 ✅              │
│  Bulk Messages         ❌                  ❌                 ✅              │
│                                                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                        🎁 BONUS                                              │
│  ════════════════════════════════════════════════════════════════════════   │
│                                                                              │
│  Referral Bonus        5%                 7%                10%             │
│  Daily Login           1x                 1.25x             1.5x            │
│  API Access            ❌                  ❌                 ✅              │
│  Priority Support      ❌                  ❌                 ✅              │
│  Badge                 -                   🌟                💎              │
│                                                                              │
│  ────────────────────────────────────────────────────────────────────────   │
│  Trial                 -                   7 วัน             7 วัน          │
│  ────────────────────────────────────────────────────────────────────────   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 📊 ตารางสรุป Subscription

| ฟีเจอร์ | 🆓 Free | 🌟 Boost (฿149) | 💎 Boost+ (฿399) |
|---------|---------|-----------------|------------------|
| **📦 Agent Center** ||||
| บิล/เดือน | 50 | 300 | ไม่จำกัด |
| Bulk Create | ❌ | 10/ครั้ง | ไม่จำกัด |
| Bill Templates | ❌ | 5 | ไม่จำกัด |
| Import CSV | ❌ | ❌ | ✅ |
| จำนวนลูกค้า | 20 คน | 100 คน | ไม่จำกัด |
| Customer Segments | ❌ | ✅ | ✅ |
| ประวัติบิล | 30 วัน | 90 วัน | ไม่จำกัด |
| Client Tags | 3 | 10 | ไม่จำกัด |
| Export Data | ❌ | CSV | CSV + Excel |
| Analytics | Basic | Advanced | Pro |
| **🏪 Agent Store** ||||
| Store Level | Starter | Pro | Business |
| Store URL | `[id].meelike.com` | `[id].meelike.com` | Custom URL |
| บริการในร้าน | 5 | 20 | ไม่จำกัด |
| Custom Branding | ❌ | ❌ | ✅ |
| ซ่อน MeeLike Branding | ❌ | ❌ | ✅ |
| Store Analytics | Basic | Pro | Pro |
| Customer Reviews | ✅ | ✅ | ✅ |
| **🎁 Promotions** ||||
| สร้างคูปอง | ❌ | 3 คูปอง | ไม่จำกัด |
| Flash Sale | ❌ | ❌ | ✅ |
| ส่วนลดลูกค้าประจำ | ❌ | ❌ | ✅ |
| **🔔 Notifications** ||||
| In-app | ✅ | ✅ | ✅ |
| LINE | ❌ | ✅ | ✅ |
| Email | ❌ | ❌ | ✅ |
| **💬 Quick Tools** ||||
| Quick Reply Templates | ❌ | 5 | ไม่จำกัด |
| Auto-Reply Messages | ❌ | ❌ | ✅ |
| Bulk Messages | ❌ | ❌ | ✅ |
| **🎁 Bonus** ||||
| Referral Bonus | 5% | 7% | 10% |
| Daily Login | 1x | 1.25x | 1.5x |
| API Access | ❌ | ❌ | ✅ |
| Priority Support | ❌ | ❌ | ✅ |
| Badge | - | 🌟 | 💎 |
| **Trial** | - | 7 วัน | 7 วัน |
| **รายปี** | - | ฿1,490 (-17%) | ฿3,990 (-17%) |

---

## 🆕 Features ใหม่ที่เพิ่ม

### 1. 🔔 Notification System

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  🔔 Notification System                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  แจ้งเตือนเมื่อ:                                                            │
│  ─────────────────────────────────────────────────────────────────────────  │
│  📦 มีออเดอร์ใหม่          "คุณมีออเดอร์ใหม่ #BILL-001 ฿150"               │
│  💳 ลูกค้าแจ้งโอนเงิน       "ลูกค้า xxx แจ้งโอนเงิน ฿150"                   │
│  ✅ ออเดอร์สำเร็จ          "ออเดอร์ #BILL-001 เสร็จสมบูรณ์"                │
│  ⚠️ ออเดอร์มีปัญหา         "ออเดอร์ #BILL-001 มีปัญหา กรุณาตรวจสอบ"        │
│  ⭐ ลูกค้ารีวิว             "ลูกค้าให้ 5 ดาว! 'บริการดีมาก'"               │
│                                                                              │
│  ช่องทาง:                                                                   │
│  ─────────────────────────────────────────────────────────────────────────  │
│  📱 In-app       ทุกแพ็คเกจ                                                 │
│  💬 LINE         Boost, Boost+                                              │
│  📧 Email        Boost+ only                                                │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2. 🎁 Promotion System

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  🎁 Promotion System                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  📋 ประเภทโปรโมชั่น:                                                        │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                              │
│  🎟️ คูปองส่วนลด                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  รหัส: WELCOME10                                                    │    │
│  │  ส่วนลด: 10% (สูงสุด ฿50)                                           │    │
│  │  ขั้นต่ำ: ฿100                                                      │    │
│  │  จำนวน: 100 ใบ                                                      │    │
│  │  หมดอายุ: 31 ม.ค. 2025                                              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ⚡ Flash Sale (Boost+)                                                     │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  บริการ: เพิ่มไลค์ Facebook                                         │    │
│  │  ราคาปกติ: ฿150 → ราคา Flash Sale: ฿99                             │    │
│  │  ระยะเวลา: 24 ชั่วโมง                                               │    │
│  │  จำนวนจำกัด: 50 ออเดอร์                                             │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  👑 ส่วนลดลูกค้าประจำ (Boost+)                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  VIP Silver (ซื้อ 5+ ครั้ง):  ส่วนลด 5%                             │    │
│  │  VIP Gold (ซื้อ 10+ ครั้ง):   ส่วนลด 10%                            │    │
│  │  VIP Platinum (ซื้อ 20+ ครั้ง): ส่วนลด 15%                          │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3. ⭐ Customer Reviews

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ⭐ Customer Reviews                                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  หลังออเดอร์สำเร็จ → ลูกค้าสามารถรีวิวร้านได้                               │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ⭐⭐⭐⭐⭐ 5.0                                                       │    │
│  │  "บริการดีมาก ไวมาก แนะนำเลยค่ะ"                                    │    │
│  │                                                                      │    │
│  │  👤 คุณ A*** (ซื้อ: เพิ่มไลค์ Facebook)                              │    │
│  │  📅 30 ธ.ค. 2024                                                    │    │
│  │                                                                      │    │
│  │  💬 ตอบกลับจากร้าน:                                                  │    │
│  │  "ขอบคุณมากค่ะ ยินดีให้บริการเสมอนะคะ 🙏"                           │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ประโยชน์:                                                                  │
│  • สร้างความน่าเชื่อถือให้ร้าน                                             │
│  • ลูกค้าใหม่ตัดสินใจง่ายขึ้น                                              │
│  • Agent ได้ feedback ปรับปรุง                                             │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4. 📝 Bill Templates

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  📝 Bill Templates                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  บันทึกเทมเพลตบิลที่ใช้บ่อย → สร้างบิลใหม่ได้เร็วขึ้น                       │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  📋 เทมเพลต: "ไลค์ FB 1,000"                                        │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  บริการ: เพิ่มไลค์โพสต์ Facebook (คนไทย)                            │    │
│  │  จำนวน: 1,000                                                       │    │
│  │  ราคาขาย: ฿150                                                      │    │
│  │                                                                      │    │
│  │  [ใช้เทมเพลตนี้]                                                    │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  📋 เทมเพลต: "แพ็คเกจ IG"                                           │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  บริการ: Followers IG (คนไทย)                                       │    │
│  │  จำนวน: 500                                                         │    │
│  │  ราคาขาย: ฿200                                                      │    │
│  │                                                                      │    │
│  │  [ใช้เทมเพลตนี้]                                                    │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  Limits:                                                                    │
│  • Free: ❌                                                                 │
│  • Boost: 5 เทมเพลต                                                        │
│  • Boost+: ไม่จำกัด                                                        │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5. 💬 Quick Reply Templates

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  💬 Quick Reply Templates                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ข้อความสำเร็จรูปสำหรับตอบลูกค้า                                            │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  🟢 ยืนยันรับออเดอร์                                                 │    │
│  │  "ขอบคุณค่ะ ได้รับออเดอร์แล้วนะคะ รอดำเนินการสักครู่ค่ะ 🙏"          │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  💳 แจ้งข้อมูลโอนเงิน                                                │    │
│  │  "ช่องทางชำระเงิน: PromptPay 081-xxx-xxxx (ชื่อ xxx)                │    │
│  │   ยอดชำระ: {amount} บาท                                             │    │
│  │   โอนแล้วแจ้งสลิปมาได้เลยนะคะ"                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ✅ แจ้งงานเสร็จ                                                     │    │
│  │  "งานเสร็จเรียบร้อยแล้วค่ะ ตรวจสอบได้เลยนะคะ                        │    │
│  │   ขอบคุณที่ใช้บริการค่ะ 🙏"                                         │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  Variables: {customer_name}, {amount}, {service}, {link}                    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 6. 👥 Customer Segments

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  👥 Customer Segments                                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  แบ่งกลุ่มลูกค้าอัตโนมัติตามพฤติกรรม                                        │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                                                                      │    │
│  │  👑 VIP (ยอดซื้อ ฿5,000+)                           12 คน           │    │
│  │  ⭐ Regular (ซื้อ 3+ ครั้ง)                          35 คน           │    │
│  │  🆕 New (ซื้อครั้งแรก)                              18 คน           │    │
│  │  😴 Inactive (ไม่ซื้อ 30+ วัน)                       8 คน            │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ประโยชน์:                                                                  │
│  • ส่งโปรโมชั่นเฉพาะกลุ่ม                                                  │
│  • ดูแลลูกค้า VIP พิเศษ                                                    │
│  • ดึงลูกค้า Inactive กลับมา                                               │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7. 📊 Store Analytics

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  📊 Store Analytics                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Basic (Free):                                                              │
│  • จำนวนผู้เข้าชมร้าน                                                       │
│  • จำนวนออเดอร์                                                             │
│  • ยอดขายรวม                                                                │
│                                                                              │
│  Pro (Boost, Boost+):                                                       │
│  • Conversion Rate (ดู → สั่ง)                                              │
│  • บริการยอดนิยม                                                            │
│  • ช่วงเวลาที่ขายดี                                                         │
│  • แหล่งที่มาลูกค้า (Referrer)                                              │
│  • เปรียบเทียบรายสัปดาห์/เดือน                                              │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  📊 สถิติร้าน - สัปดาห์นี้                                           │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │                                                                      │    │
│  │  👀 ผู้เข้าชม:     1,250 (+15%)                                     │    │
│  │  🛒 ออเดอร์:       45 (+8%)                                          │    │
│  │  💰 ยอดขาย:       ฿6,750 (+12%)                                      │    │
│  │  📈 Conversion:   3.6%                                               │    │
│  │                                                                      │    │
│  │  🏆 บริการยอดนิยม:                                                   │    │
│  │  1. เพิ่มไลค์ FB (35%)                                               │    │
│  │  2. Followers IG (28%)                                               │    │
│  │  3. Views TikTok (20%)                                               │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 📁 โครงสร้างไฟล์

```
src/
├── middleware.ts                    # Subdomain routing (*.meelike.com)
│
├── app/
│   │
│   │  ══════════════════════════════════════════════════════════════════
│   │  🏠 MAIN PLATFORM (meelike.com)
│   │  ══════════════════════════════════════════════════════════════════
│   │
│   ├── page.tsx                     # Landing page
│   ├── layout.tsx                   # Main layout
│   ├── globals.css
│   │
│   ├── order/
│   │   └── page.tsx                 # สั่งซื้อ (user ทั่วไป)
│   │
│   ├── history/
│   │   ├── page.tsx                 # ประวัติออเดอร์ตัวเอง
│   │   ├── deposits/
│   │   └── transactions/
│   │
│   ├── add-funds/
│   │   └── page.tsx
│   │
│   ├── subscription/
│   │   └── page.tsx                 # เลือกแพ็คเกจ Agent
│   │
│   │  ══════════════════════════════════════════════════════════════════
│   │  📦 AGENT CENTER (meelike.com/agent/...)
│   │  ══════════════════════════════════════════════════════════════════
│   │
│   ├── agent/
│   │   ├── layout.tsx               # Agent Center layout
│   │   ├── page.tsx                 # Dashboard ภาพรวม
│   │   │
│   │   ├── orders/                  # 📋 จัดการบิล
│   │   │   ├── page.tsx             # รายการบิลทั้งหมด + Tabs สถานะ
│   │   │   ├── new/
│   │   │   │   └── page.tsx         # ➕ สร้างบิลใหม่
│   │   │   └── [billId]/
│   │   │       └── page.tsx         # รายละเอียดบิล
│   │   │
│   │   ├── clients/                 # 👥 จัดการลูกค้า
│   │   │   ├── page.tsx             # รายชื่อลูกค้า + Segments
│   │   │   └── [clientId]/
│   │   │       └── page.tsx         # รายละเอียดลูกค้า
│   │   │
│   │   ├── store/                   # 🏪 ตั้งค่าร้าน
│   │   │   └── page.tsx             # ตั้งค่า Store + บริการ + ราคา
│   │   │
│   │   ├── promotions/              # 🎁 โปรโมชั่น (ใหม่)
│   │   │   ├── page.tsx             # รายการโปรโมชั่น
│   │   │   ├── coupons/
│   │   │   │   └── page.tsx         # จัดการคูปอง
│   │   │   └── flash-sale/
│   │   │       └── page.tsx         # Flash Sale (Boost+)
│   │   │
│   │   ├── templates/               # 📝 เทมเพลต (ใหม่)
│   │   │   ├── page.tsx             # Bill Templates
│   │   │   └── replies/
│   │   │       └── page.tsx         # Quick Reply Templates
│   │   │
│   │   ├── analytics/               # 📊 สถิติ
│   │   │   └── page.tsx
│   │   │
│   │   ├── notifications/           # 🔔 การแจ้งเตือน (ใหม่)
│   │   │   └── page.tsx             # ตั้งค่าการแจ้งเตือน
│   │   │
│   │   └── settings/                # ⚙️ ตั้งค่า Agent
│   │       └── page.tsx
│   │
│   │  ══════════════════════════════════════════════════════════════════
│   │  🏪 AGENT STORE ([username].meelike.com)
│   │  ══════════════════════════════════════════════════════════════════
│   │
│   └── store/
│       └── [username]/
│           ├── layout.tsx           # Store layout
│           ├── page.tsx             # หน้าร้าน
│           │
│           ├── [serviceId]/
│           │   └── page.tsx         # รายละเอียดบริการ
│           │
│           ├── checkout/
│           │   └── page.tsx         # หน้าสั่งซื้อ
│           │
│           ├── orders/              # 📋 ลูกค้าดูสถานะ
│           │   ├── page.tsx         # ค้นหาออเดอร์
│           │   └── [billId]/
│           │       └── page.tsx     # รายละเอียดบิล
│           │
│           └── reviews/             # ⭐ รีวิว (ใหม่)
│               └── page.tsx         # รีวิวทั้งหมด
│
├── components/
│   ├── layout/
│   │   ├── Header.tsx
│   │   ├── Sidebar.tsx
│   │   └── Footer.tsx
│   │
│   ├── agent/
│   │   ├── AgentStats.tsx
│   │   ├── BillTable.tsx
│   │   ├── BillStatusBadge.tsx
│   │   ├── BillActions.tsx
│   │   ├── CreateBillForm.tsx
│   │   ├── ClientSelector.tsx
│   │   ├── QuickAddClient.tsx
│   │   ├── ProfitCalculator.tsx
│   │   ├── ClientCard.tsx
│   │   ├── ClientSegments.tsx       # ใหม่
│   │   ├── BillTemplateCard.tsx     # ใหม่
│   │   ├── QuickReplyCard.tsx       # ใหม่
│   │   ├── CouponCard.tsx           # ใหม่
│   │   ├── NotificationSettings.tsx # ใหม่
│   │   └── SubscriptionBadge.tsx
│   │
│   └── store/
│       ├── StoreHeader.tsx
│       ├── StoreFooter.tsx
│       ├── ServiceCard.tsx
│       ├── ServiceGrid.tsx
│       ├── StoreOrderForm.tsx
│       ├── OrderLookup.tsx
│       ├── OrderStatusCard.tsx
│       ├── OrderProgress.tsx
│       ├── PaymentInfo.tsx
│       ├── CouponInput.tsx          # ใหม่
│       ├── ReviewCard.tsx           # ใหม่
│       ├── ReviewForm.tsx           # ใหม่
│       ├── FlashSaleBanner.tsx      # ใหม่
│       └── MeeLikeBranding.tsx
│
├── types/
│   ├── subscription.ts
│   ├── agent.ts
│   ├── bill.ts
│   ├── client.ts
│   ├── store.ts
│   ├── promotion.ts                 # ใหม่
│   ├── review.ts                    # ใหม่
│   ├── template.ts                  # ใหม่
│   └── notification.ts              # ใหม่
│
└── utils/storage/
    ├── subscription.ts
    ├── agent.ts
    ├── bills.ts
    ├── clients.ts
    ├── store.ts
    ├── promotions.ts                # ใหม่
    ├── reviews.ts                   # ใหม่
    ├── templates.ts                 # ใหม่
    └── notifications.ts             # ใหม่
```

---

## 📝 Types Definitions

### Bill Types

```typescript
// src/app/types/bill.ts

export type BillStatus = 
  | 'pending'      // 🟡 รอชำระเงิน
  | 'confirmed'    // 🔵 รอดำเนินการ (Agent ยืนยันแล้ว)
  | 'processing'   // 🔄 กำลังดำเนินการ
  | 'completed'    // ✅ สำเร็จ
  | 'cancelled';   // ❌ ยกเลิก

export type BillSource = 'store' | 'manual';

export interface Bill {
  id: string;                    // BILL-XXXXX
  
  // Agent Info
  agentId: string;
  agentUsername: string;
  
  // Client Info
  clientId?: string;
  clientName: string;
  clientContact: string;
  
  // Service Info
  serviceId: number;
  serviceName: string;
  category: string;
  link: string;
  quantity: number;
  
  // Pricing (Agent เห็น)
  baseCost: number;
  agentDiscount: number;
  actualCost: number;
  salePrice: number;
  profit: number;
  profitMargin: number;
  
  // Pricing (ลูกค้าเห็น)
  displayPrice: number;
  
  // Promotion
  couponCode?: string;
  couponDiscount?: number;
  
  // Status
  status: BillStatus;
  progress?: number;
  startCount?: number;
  currentCount?: number;
  
  // Source
  source: BillSource;
  
  // Timestamps
  createdAt: string;
  confirmedAt?: string;
  startedAt?: string;
  completedAt?: string;
  cancelledAt?: string;
  
  // Notes
  agentNote?: string;
  customerNote?: string;
  
  // Review
  hasReview?: boolean;
  reviewId?: string;
}
```

### Promotion Types

```typescript
// src/app/types/promotion.ts

export type CouponType = 'percentage' | 'fixed';

export interface Coupon {
  id: string;
  agentId: string;
  
  code: string;
  description?: string;
  
  type: CouponType;
  value: number;              // % หรือ จำนวนเงิน
  maxDiscount?: number;       // ส่วนลดสูงสุด (สำหรับ percentage)
  minPurchase?: number;       // ยอดซื้อขั้นต่ำ
  
  usageLimit?: number;        // จำนวนครั้งที่ใช้ได้
  usageCount: number;         // ใช้ไปแล้วกี่ครั้ง
  
  validFrom: string;
  validUntil: string;
  
  isActive: boolean;
  createdAt: string;
}

export interface FlashSale {
  id: string;
  agentId: string;
  
  serviceId: number;
  serviceName: string;
  
  originalPrice: number;
  salePrice: number;
  
  quantity: number;           // จำนวนจำกัด
  soldCount: number;
  
  startAt: string;
  endAt: string;
  
  isActive: boolean;
  createdAt: string;
}

export interface LoyaltyTier {
  id: string;
  agentId: string;
  
  name: string;               // VIP Silver, Gold, Platinum
  minOrders?: number;         // จำนวนออเดอร์ขั้นต่ำ
  minSpent?: number;          // ยอดซื้อขั้นต่ำ
  discountPercent: number;
  
  color: string;
  icon: string;
}
```

### Review Types

```typescript
// src/app/types/review.ts

export interface Review {
  id: string;
  billId: string;
  agentId: string;
  storeUsername: string;
  
  // Reviewer
  customerName?: string;
  customerContact: string;    // masked: 081-xxx-xxxx
  
  // Review Content
  rating: number;             // 1-5
  comment?: string;
  
  // Service Info
  serviceId: number;
  serviceName: string;
  
  // Agent Reply
  agentReply?: string;
  agentReplyAt?: string;
  
  // Status
  isVisible: boolean;
  
  createdAt: string;
}

export interface StoreRating {
  average: number;
  total: number;
  distribution: {
    5: number;
    4: number;
    3: number;
    2: number;
    1: number;
  };
}
```

### Template Types

```typescript
// src/app/types/template.ts

export interface BillTemplate {
  id: string;
  agentId: string;
  
  name: string;
  
  serviceId: number;
  serviceName: string;
  category: string;
  
  quantity: number;
  salePrice: number;
  
  isActive: boolean;
  usageCount: number;
  
  createdAt: string;
  updatedAt: string;
}

export interface QuickReply {
  id: string;
  agentId: string;
  
  name: string;               // ชื่อเทมเพลต
  message: string;            // ข้อความ (รองรับ variables)
  category: string;           // greeting, payment, completion, etc.
  
  variables: string[];        // ['customer_name', 'amount', 'service']
  
  isActive: boolean;
  usageCount: number;
  
  createdAt: string;
}
```

### Notification Types

```typescript
// src/app/types/notification.ts

export type NotificationType = 
  | 'new_order'
  | 'payment_confirmed'
  | 'order_completed'
  | 'order_failed'
  | 'new_review';

export type NotificationChannel = 'in_app' | 'line' | 'email';

export interface Notification {
  id: string;
  agentId: string;
  
  type: NotificationType;
  title: string;
  message: string;
  
  billId?: string;
  reviewId?: string;
  
  isRead: boolean;
  
  createdAt: string;
}

export interface NotificationSettings {
  agentId: string;
  
  channels: {
    in_app: boolean;
    line: boolean;
    email: boolean;
  };
  
  types: {
    new_order: NotificationChannel[];
    payment_confirmed: NotificationChannel[];
    order_completed: NotificationChannel[];
    order_failed: NotificationChannel[];
    new_review: NotificationChannel[];
  };
  
  // LINE Settings (Boost, Boost+)
  lineUserId?: string;
  lineNotifyToken?: string;
  
  // Email Settings (Boost+)
  emailAddress?: string;
}
```

---

## 🗓️ Implementation Phases

### Phase 0: Platform Setup (1-2 วัน)
- [ ] Setup Wildcard DNS (*.meelike.com)
- [ ] Setup Wildcard SSL Certificate
- [ ] Next.js Middleware สำหรับ Subdomain Routing
- [ ] Test subdomain routing

### Phase 1: Types & Storage (2-3 วัน)
- [ ] Bill types
- [ ] Client types
- [ ] Store types
- [ ] Promotion types
- [ ] Review types
- [ ] Template types
- [ ] Notification types
- [ ] All storage utilities

### Phase 2: Agent Center Core (1-2 สัปดาห์)
- [ ] Agent Center layout
- [ ] Dashboard page
- [ ] Bills management (list, create, detail)
- [ ] Bill status flow
- [ ] Confirm/Cancel actions

### Phase 3: Client Management (3-4 วัน)
- [ ] Clients list + Segments
- [ ] Client detail
- [ ] Add/Edit client
- [ ] Client tags

### Phase 4: Agent Store Core (1-2 สัปดาห์)
- [ ] Store settings page
- [ ] Store layout (public)
- [ ] Store homepage
- [ ] Service detail
- [ ] Checkout page
- [ ] Order lookup
- [ ] Order status page
- [ ] MeeLike branding

### Phase 5: Reviews & Promotions (1 สัปดาห์)
- [ ] Review system
- [ ] Review display on store
- [ ] Agent reply to reviews
- [ ] Coupon system
- [ ] Coupon input on checkout
- [ ] Flash Sale (Boost+)
- [ ] Loyalty tiers (Boost+)

### Phase 6: Templates & Notifications (3-4 วัน)
- [ ] Bill templates
- [ ] Quick reply templates
- [ ] In-app notifications
- [ ] Notification settings
- [ ] LINE integration (Boost, Boost+)
- [ ] Email integration (Boost+)

### Phase 7: Analytics & Subscription (1 สัปดาห์)
- [ ] Store analytics (Basic/Pro)
- [ ] Agent analytics
- [ ] Subscription page
- [ ] Plan comparison
- [ ] Upgrade/Downgrade flow

### Phase 8: Polish & Testing (3-4 วัน)
- [ ] Responsive design
- [ ] Dark mode support
- [ ] Error handling
- [ ] Loading states
- [ ] End-to-end testing

---

## 💰 Revenue Projection

### Pricing Summary

| Plan | Monthly | Yearly | Target Users |
|------|---------|--------|--------------|
| 🆓 Free | ฿0 | ฿0 | ทดลองใช้ |
| 🌟 Boost | ฿149 | ฿1,490 | Agent เริ่มต้น |
| 💎 Boost+ | ฿399 | ฿3,990 | Agent มืออาชีพ |

### Value Proposition

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  💰 ทำไม Agent ยินดีจ่าย ฿149-399/เดือน?                                    │
│  ═══════════════════════════════════════════════════════════════════════    │
│                                                                              │
│  🏪 Agent Store                                                             │
│  • ถ้าจ้างทำเว็บเอง: ฿5,000 - ฿50,000                                      │
│  • ค่า hosting: ฿1,000 - ฿3,000/ปี                                         │
│  • ใช้ MeeLike: ฿0 - ฿399/เดือน                                            │
│  • ประหยัด: ฿10,000+/ปี ✅                                                  │
│                                                                              │
│  ⏱️ ประหยัดเวลา                                                             │
│  • ก่อน: จัดการออเดอร์ 100 รายการ = 17 ชม./เดือน                           │
│  • หลัง: ใช้ระบบ = 2 ชม./เดือน                                             │
│  • ประหยัด: 15 ชม./เดือน = ฿1,500+ (ค่าแรง ฿100/ชม.) ✅                     │
│                                                                              │
│  📈 เพิ่มยอดขาย                                                             │
│  • Store ดูเป็นมืออาชีพ → ลูกค้าเชื่อถือมากขึ้น                            │
│  • รีวิวดี → ลูกค้าใหม่ตัดสินใจง่ายขึ้น                                    │
│  • โปรโมชั่น → กระตุ้นยอดขาย                                               │
│  • คาดการณ์: เพิ่มยอด 20-30% ✅                                             │
│                                                                              │
│  📊 ROI Summary                                                             │
│  • ค่าบริการ: ฿149-399/เดือน                                               │
│  • ประหยัด: ฿1,500+/เดือน (เวลา)                                           │
│  • เพิ่มรายได้: 20-30%                                                     │
│  • ROI: 300%+ ✅                                                            │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 🎨 Color Scheme

| Element | Light Mode | Dark Mode |
|---------|------------|-----------|
| Pending (รอชำระ) | `#F59E0B` (Amber) | `#FBBF24` |
| Confirmed (รอดำเนินการ) | `#3B82F6` (Blue) | `#60A5FA` |
| Processing (กำลังทำ) | `#8B5CF6` (Purple) | `#A78BFA` |
| Completed (สำเร็จ) | `#22C55E` (Green) | `#4ADE80` |
| Cancelled (ยกเลิก) | `#EF4444` (Red) | `#F87171` |
| Profit | `#22C55E` (Green) | `#4ADE80` |
| Cost | `#64748B` (Slate) | `#94A3B8` |
| Boost Badge | `#F59E0B` (Amber) | `#FBBF24` |
| Boost+ Badge | `#8B5CF6` (Purple) | `#A78BFA` |

---

## 📝 Notes

- ระบบใช้ localStorage สำหรับ mock data (เปลี่ยนเป็น backend API ได้ในอนาคต)
- Agent Store ใช้ระบบ Manual Payment (Agent ยืนยันเอง)
- Subdomain routing ผ่าน Next.js Middleware
- Bill ID format: `BILL-XXXXX` (5 หลัก)
- LINE Notification ใช้ LINE Notify API
- Email ใช้ SendGrid หรือ AWS SES

---

## ✅ สิ่งที่ไม่รวม (ตัดออก)

- ❌ ส่วนลดเพิ่มจาก Subscription (ป้องกันขาดทุน)
- ❌ Monthly Credits
- ❌ Auto Payment Gateway (Phase แรก)
- ❌ White Label / Custom Domain (ยกเว้น Boost+)
- ❌ Sub-Agents
- ❌ Priority Queue
